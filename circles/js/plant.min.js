function Plant(t,e,i){this.parent=t,this.percentage=e,this.image=i,this.id=idNum++;var n=document.createElement("canvas");return n.width=400,n.height=600,n.id="plant"+this.id,t.appendChild(n),this.canvas=document.getElementById("plant"+this.id),this.context=this.canvas.getContext("2d"),this.show=function(t,e,i){this.writePlantTo(this.image,0);var n=this;Animate(0,this.percentage,i,0,t,function(t,e){e.writeCircleTo(parseInt(t)),e.writeTextTo(parseInt(t))},e,n)},this.writePlantTo=function(t,e){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.writeCircleTo(e),this.writeTextTo(e);var i=this.context,n=new Image;n.src=this.image,n.onload=function(){var t,e,n=this.width,h=this.height;h/n*300<n/h*300?(t=300,e=h/n*300):(t=n/h*300,e=300),i.drawImage(this,(400-t)/2,(400-e)/2,t,e)}},this.writeTextTo=function(t){this.context.clearRect(0,400,this.canvas.width,200),this.context.font="80pt Century Gothic",this.context.fillStyle="#0099FF",this.context.textAlign="center";var e=n.width/2;this.context.fillText(t+"%",e,500)},this.writeCircleTo=function(t){var e=this.canvas.width/2,i=(this.canvas.height-200)/2;this.context.beginPath(),this.context.arc(e,i,190,0,2*Math.PI,!0),this.context.lineWidth=19,this.context.strokeStyle=backgroundColor,this.context.stroke(),this.context.closePath();var n=1.5-.02*t;this.context.beginPath(),this.context.arc(e,i,190,n*Math.PI,1.5*Math.PI,!1),this.context.lineWidth=15,this.context.strokeStyle=(new Color).getColor(t),this.context.stroke(),this.context.closePath()},this}function Color(){return this.calculate=function(t,e,i){var n=/([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),h=/([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),o=this.calcNewVal(this.hexToRgb(n[1]),this.hexToRgb(h[1]),i),s=this.calcNewVal(this.hexToRgb(n[2]),this.hexToRgb(h[2]),i),a=this.calcNewVal(this.hexToRgb(n[3]),this.hexToRgb(h[3]),i);return this.componentToHex(o)+this.componentToHex(s)+this.componentToHex(a)},this.calcNewVal=function(t,e,i){return e===t?e:e<t?parseInt(e+(t-e)*i):parseInt(e-(e-t)*i)},this.componentToHex=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},this.hexToRgb=function(t){return parseInt(t,16)},this.getColor=function(t){var e,i,n;if(t<=20)e="FF9900",i="FF0000",n=this.calculate(e,i,t/20);else{if(!(t<=40))return"#0099FF";e="0099FF",i="FF9900",n=this.calculate(e,i,(t-20)/20)}return"#"+n},this}var backgroundColor="#FFF",idNum=0,Animate=function(t,e,i,n,h,o,s,a){"number"!=typeof i&&(i=1e3),i<10&&(n=10,i=10);var c;c="function"==typeof h?h(null,n,t,e-t,i):"string"==typeof h?Easing[h](null,n,t,e-t,i):Easing.easeInOutCubic(null,n,t,e-t,i),void 0!==a?o(c,a):o(c),n>=i?"function"==typeof s&&s(c):setTimeout(function(){Animate(t,e,i,n+10,h,o,s,a)},10)};